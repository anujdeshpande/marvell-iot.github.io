<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>AWS IoT Starter SDK: wmsdk/src/incl/sdk/jsonv2.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Starter SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_888e8a7168914c1639e2b782ab576ffb.html">wmsdk</a></li><li class="navelem"><a class="el" href="dir_259f8adb590fc33753e622d97b880658.html">src</a></li><li class="navelem"><a class="el" href="dir_a5320c50c325612ba11f999ef1d74fbb.html">incl</a></li><li class="navelem"><a class="el" href="dir_8d6a29e47fa7a432e99c9e8c3471a4bd.html">sdk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">jsonv2.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>JSON parser module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;wmtypes.h&gt;</code><br />
<code>#include &lt;<a class="el" href="wmerrno_8h_source.html">wmerrno.h</a>&gt;</code><br />
</div>
<p><a href="jsonv2_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjsontok__t.html">jsontok_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjson__parser__t.html">json_parser_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjobj__t.html">jobj_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a687f0ceb8d33e34359e7d9a9d4910cce"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910cce">wm_json_errno</a> { <br />
&#160;&#160;<b>WM_E_JSON_ERRNO_BASE</b> = MOD_ERROR_START(MOD_JSON), 
<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910ccea1e48cbb8918de2fdbde68cbe6f954b04">WM_E_JSON_FAIL</a>, 
<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910ccea81652f49a858dbafe00e810f5e092fd2">WM_E_JSON_NOMEM</a>, 
<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910ccea30c4f46e33913d031c893e74856ee7cc">WM_E_JSON_INVAL</a>, 
<br />
&#160;&#160;<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910ccea3f59ec50d9b0e114dc4b04b34b0b8751">WM_E_JSON_INCOMPLETE</a>, 
<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910cceacf9ab2fef122f40fa9a594ff574c36d1">WM_E_JSON_INVALID_JOBJ</a>, 
<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910cceaf59bcd51b00cec97e63e84ebc7371fee">WM_E_JSON_NOT_FOUND</a>, 
<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910cceaf515ff383d39210a37d8135037b78e5d">WM_E_JSON_INVALID_TYPE</a>, 
<br />
&#160;&#160;<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910cceaf79db5d86b8aaec6b1aecfde8c7390e9">WM_E_JSON_INVALID_INDEX</a>, 
<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910ccea984dd24e80243a6f08253afba5bc1bcc">WM_E_JSON_INVALID_JARRAY</a>, 
<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910ccea41381fcd24d169a2a65ca64ccbc43fe8">WM_E_JSON_INVSTART</a>, 
<a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910ccea7bcc04a48f644815742cd497b101da7e">WM_E_JSON_OBUF</a>
<br />
 }<tr class="separator:a687f0ceb8d33e34359e7d9a9d4910cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0a7210c1e92fed218ad852f3f20224da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a0a7210c1e92fed218ad852f3f20224da">json_init</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, <a class="el" href="structjsontok__t.html">jsontok_t</a> *tokens, int num_tokens, char *js, int js_len)</td></tr>
<tr class="separator:a0a7210c1e92fed218ad852f3f20224da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2655ca7c60529ae28cf70ee433cfafc6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a2655ca7c60529ae28cf70ee433cfafc6">json_is_object</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj)</td></tr>
<tr class="separator:a2655ca7c60529ae28cf70ee433cfafc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf6d923a89f68d02c6df16bd22cc28a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#aaf6d923a89f68d02c6df16bd22cc28a1">json_is_array</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj)</td></tr>
<tr class="separator:aaf6d923a89f68d02c6df16bd22cc28a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c026ccb4fbc706ee6f8eb5f20593a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a67c026ccb4fbc706ee6f8eb5f20593a5">json_get_val_bool</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, char *key, bool *value)</td></tr>
<tr class="separator:a67c026ccb4fbc706ee6f8eb5f20593a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbbb331ad81e75fee40b12beea8cb8da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#adbbb331ad81e75fee40b12beea8cb8da">json_get_val_int</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, char *key, int *value)</td></tr>
<tr class="separator:adbbb331ad81e75fee40b12beea8cb8da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5a4c8858a762cd26be409f1e559a6ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#aa5a4c8858a762cd26be409f1e559a6ad">json_get_val_int64</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, char *key, int64_t *value)</td></tr>
<tr class="separator:aa5a4c8858a762cd26be409f1e559a6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c0a7291a51a1d93db9cbb45f7a52b9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a6c0a7291a51a1d93db9cbb45f7a52b9a">json_get_val_float</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, char *key, float *value)</td></tr>
<tr class="separator:a6c0a7291a51a1d93db9cbb45f7a52b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10b24b5a9e6cb1b04bc35fbbc7e3c6ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a10b24b5a9e6cb1b04bc35fbbc7e3c6ea">json_get_val_str</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, char *key, char *value, int max_len)</td></tr>
<tr class="separator:a10b24b5a9e6cb1b04bc35fbbc7e3c6ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a270b59d3dff9a3cf51fa424362a9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#ab3a270b59d3dff9a3cf51fa424362a9a">json_get_val_str_len</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, char *key, int *len)</td></tr>
<tr class="separator:ab3a270b59d3dff9a3cf51fa424362a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a666a5794accef75ad89ad58c283d30ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a666a5794accef75ad89ad58c283d30ec">json_get_composite_object</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, char *key)</td></tr>
<tr class="separator:a666a5794accef75ad89ad58c283d30ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b9e2fbbda78dab31b3dc09b284018f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a2b9e2fbbda78dab31b3dc09b284018f8">json_release_composite_object</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj)</td></tr>
<tr class="separator:a2b9e2fbbda78dab31b3dc09b284018f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aba0be61d8b87992273f4ae73ba85ca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a5aba0be61d8b87992273f4ae73ba85ca">json_get_array_object</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, char *key, int *num_elements)</td></tr>
<tr class="separator:a5aba0be61d8b87992273f4ae73ba85ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d92eca3166f3f766a6f30f48e445b8d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a5d92eca3166f3f766a6f30f48e445b8d">json_release_array_object</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj)</td></tr>
<tr class="separator:a5d92eca3166f3f766a6f30f48e445b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4dbb7bdea07226e7736992b6a125c47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#ae4dbb7bdea07226e7736992b6a125c47">json_array_get_num_elements</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj)</td></tr>
<tr class="separator:ae4dbb7bdea07226e7736992b6a125c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee43f0bc6092c36ea720db296b0baba0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#aee43f0bc6092c36ea720db296b0baba0">json_array_get_bool</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, uint16_t index, bool *value)</td></tr>
<tr class="separator:aee43f0bc6092c36ea720db296b0baba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a06bc5034055e7112ed5f915967ab22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a3a06bc5034055e7112ed5f915967ab22">json_array_get_int</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, uint16_t index, int *value)</td></tr>
<tr class="separator:a3a06bc5034055e7112ed5f915967ab22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a02624e1047b2002d6ecce3e6f9e48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#af1a02624e1047b2002d6ecce3e6f9e48">json_array_get_int64</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, uint16_t index, int64_t *value)</td></tr>
<tr class="separator:af1a02624e1047b2002d6ecce3e6f9e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23dc1f2403747f163262b06c110a1d40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a23dc1f2403747f163262b06c110a1d40">json_array_get_float</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, uint16_t index, float *value)</td></tr>
<tr class="separator:a23dc1f2403747f163262b06c110a1d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c8f842224873f614c6a1975cbd66be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a37c8f842224873f614c6a1975cbd66be">json_array_get_str</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, uint16_t index, char *value, int maxlen)</td></tr>
<tr class="separator:a37c8f842224873f614c6a1975cbd66be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf6e4a9e3add2994e87778528249b6e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#abf6e4a9e3add2994e87778528249b6e5">json_array_get_str_len</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, uint16_t index, int *len)</td></tr>
<tr class="separator:abf6e4a9e3add2994e87778528249b6e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354084a661a034bd8a405194f550a13a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a354084a661a034bd8a405194f550a13a">json_array_get_composite_object</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, uint16_t index)</td></tr>
<tr class="separator:a354084a661a034bd8a405194f550a13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad869fda67add2e537f8ae9cfc06685a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#ad869fda67add2e537f8ae9cfc06685a5">json_array_release_composite_object</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj)</td></tr>
<tr class="separator:ad869fda67add2e537f8ae9cfc06685a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5650e2e210ebed2590deec8958e30f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#acd5650e2e210ebed2590deec8958e30f">json_array_get_array_object</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj, uint16_t index, int *num_elements)</td></tr>
<tr class="separator:acd5650e2e210ebed2590deec8958e30f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a9595f4135f1416a51be69c27823fbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jsonv2_8h.html#a0a9595f4135f1416a51be69c27823fbf">json_array_release_array_object</a> (<a class="el" href="structjobj__t.html">jobj_t</a> *jobj)</td></tr>
<tr class="separator:a0a9595f4135f1416a51be69c27823fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>JSON parser module. </p>
<p>This module is used to parse a JSON string For JSON generation, please refer json_generator.h</p>
<h1><a class="anchor" id="jsonv2_usage"></a>
Usage</h1>
<p>The JSON data can be viewed as a tree of key-value pairs. Composite objects indicate special nodes within the tree that anchor other subtrees. Arrays are special nodes that hold a collection of JSON elements.</p>
<p>The JSON parser module provides two sets of APIs, one to search inside a JSON object and the other to search inside a JSON array.</p>
<h2><a class="anchor" id="obj_search"></a>
Search inside an Object</h2>
<p>The APIs in this category are: </p><ul>
<li><a class="el" href="jsonv2_8h.html#a67c026ccb4fbc706ee6f8eb5f20593a5">json_get_val_bool()</a> </li>
<li><a class="el" href="jsonv2_8h.html#adbbb331ad81e75fee40b12beea8cb8da">json_get_val_int()</a> </li>
<li><a class="el" href="jsonv2_8h.html#aa5a4c8858a762cd26be409f1e559a6ad">json_get_val_int64()</a> </li>
<li><a class="el" href="jsonv2_8h.html#a6c0a7291a51a1d93db9cbb45f7a52b9a">json_get_val_float()</a> </li>
<li><a class="el" href="jsonv2_8h.html#a10b24b5a9e6cb1b04bc35fbbc7e3c6ea">json_get_val_str()</a> </li>
<li><a class="el" href="jsonv2_8h.html#a666a5794accef75ad89ad58c283d30ec">json_get_composite_object()</a> </li>
<li><a class="el" href="jsonv2_8h.html#a2b9e2fbbda78dab31b3dc09b284018f8">json_release_composite_object()</a> </li>
<li><a class="el" href="jsonv2_8h.html#a5aba0be61d8b87992273f4ae73ba85ca">json_get_array_object()</a> </li>
<li><a class="el" href="jsonv2_8h.html#a5d92eca3166f3f766a6f30f48e445b8d">json_release_array_object()</a></li>
</ul>
<h2><a class="anchor" id="array_search"></a>
Search inside an array</h2>
<p>The APIs in this category are: </p><ul>
<li><a class="el" href="jsonv2_8h.html#aee43f0bc6092c36ea720db296b0baba0">json_array_get_bool()</a> </li>
<li><a class="el" href="jsonv2_8h.html#a3a06bc5034055e7112ed5f915967ab22">json_array_get_int()</a> </li>
<li>json_array_get_in64t() </li>
<li><a class="el" href="jsonv2_8h.html#a23dc1f2403747f163262b06c110a1d40">json_array_get_float()</a> </li>
<li><a class="el" href="jsonv2_8h.html#a37c8f842224873f614c6a1975cbd66be">json_array_get_str()</a> </li>
<li><a class="el" href="jsonv2_8h.html#a354084a661a034bd8a405194f550a13a">json_array_get_composite_object()</a> </li>
<li><a class="el" href="jsonv2_8h.html#ad869fda67add2e537f8ae9cfc06685a5">json_array_release_composite_object()</a> </li>
<li><a class="el" href="jsonv2_8h.html#acd5650e2e210ebed2590deec8958e30f">json_array_get_array_object()</a> </li>
<li><a class="el" href="jsonv2_8h.html#a0a9595f4135f1416a51be69c27823fbf">json_array_release_array_object()</a></li>
</ul>
<p>A valid JSON string is an object and so the object search APIs should be used first.</p>
<p>The JSON data that looks like the following: </p><div class="fragment"><div class="line">{ <span class="stringliteral">&quot;name&quot;</span> : <span class="stringliteral">&quot;JSON Parser&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;version&quot;</span> : 2.0,</div>
<div class="line">  <span class="stringliteral">&quot;copyright&quot;</span> : 2014,</div>
<div class="line">  <span class="stringliteral">&quot;supported_el&quot;</span> : [<span class="stringliteral">&quot;bool&quot;</span>,<span class="stringliteral">&quot;int&quot;</span>,<span class="stringliteral">&quot;float&quot;</span>,<span class="stringliteral">&quot;str&quot;</span>,<span class="stringliteral">&quot;object&quot;</span>,<span class="stringliteral">&quot;array&quot;</span>],</div>
<div class="line">  <span class="stringliteral">&quot;features&quot;</span> : { <span class="stringliteral">&quot;objects&quot;</span>:<span class="keyword">true</span>,</div>
<div class="line">        <span class="stringliteral">&quot;arrays&quot;</span>:<span class="stringliteral">&quot;yes&quot;</span></div>
<div class="line">        }</div>
<div class="line">}</div>
</div><!-- fragment --><p>can be thought of as a tree with a root node that has 5 children "name", "version", "copyright", "supported_el" and "features". The node at "supported_el" is an array with 6 elements. The node at "features" further has 2 child nodes "objects", "arrays". The JSON can be much more complex with multiple levels of objects/arrays and with different types of elements inside an array or object.</p>
<p>This JSON parser is based on JSMN which treats the JSON string as a collection of tokens. A token can be an object, array, string or primitive. In the above, "name", "JSON Parser", "vesion", etc. are all strings. 2.0, 2014, true are primitives. The entire thing is a JSON object, as is the portion beginning from "{" after "features" :. The part between [] is an array. So, in all, the above JSON string consists of 21 tokens. This detail is given here so that the application developers have an idea about how large the JSON token array should be, for successful JSON parsing.</p>
<p>Using this JSON parser module you can parse the above elements with the following C code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define NUM_TOKENS  30</span></div>
<div class="line"><span class="comment">// Define an array of JSON tokens</span></div>
<div class="line"><a class="code" href="structjsontok__t.html">jsontok_t</a> json_tokens[NUM_TOKENS];</div>
<div class="line"><a class="code" href="structjobj__t.html">jobj_t</a> jobj;</div>
<div class="line"><span class="comment">// Initialise the JSON parser and parse the given string</span></div>
<div class="line"><span class="keywordtype">int</span> err = <a class="code" href="jsonv2_8h.html#a0a7210c1e92fed218ad852f3f20224da">json_init</a>(&amp;jobj, json_tokens, NUM_TOKENS, json_str_ptr,</div>
<div class="line">    strlen(json_str_ptr));</div>
<div class="line"><span class="keywordflow">if</span> (err != WM_SUCCESS)</div>
<div class="line">   <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="comment">// Get the value of &quot;name&quot; which is a string</span></div>
<div class="line"><a class="code" href="jsonv2_8h.html#a10b24b5a9e6cb1b04bc35fbbc7e3c6ea">json_get_val_str</a>(&amp;jobj, <span class="stringliteral">&quot;name&quot;</span>, sval, <span class="keyword">sizeof</span>(sval));</div>
<div class="line"><span class="comment">// Get the value of &quot;version&quot; which is a float</span></div>
<div class="line"><a class="code" href="jsonv2_8h.html#a6c0a7291a51a1d93db9cbb45f7a52b9a">json_get_val_float</a>(&amp;jobj, <span class="stringliteral">&quot;version&quot;</span>, &amp;fval);</div>
<div class="line"><span class="comment">// Get the value of &quot;copyright&quot; which is an integer</span></div>
<div class="line"><a class="code" href="jsonv2_8h.html#adbbb331ad81e75fee40b12beea8cb8da">json_get_val_int</a>(&amp;jobj, <span class="stringliteral">&quot;copyright&quot;</span>, &amp;ival);</div>
<div class="line"><span class="comment">// Get the JSON array object &quot;supported_el&quot;. After this function returns</span></div>
<div class="line"><span class="comment">// successfully, only the array search APIs can be used unless the array</span></div>
<div class="line"><span class="comment">// is released.</span></div>
<div class="line"><a class="code" href="jsonv2_8h.html#a5aba0be61d8b87992273f4ae73ba85ca">json_get_array_object</a>(&amp;jobj, <span class="stringliteral">&quot;supported_el&quot;</span>, &amp;num_elements);</div>
<div class="line"><span class="comment">// Get the value at index 2 of the array which is a string value</span></div>
<div class="line"><a class="code" href="jsonv2_8h.html#a37c8f842224873f614c6a1975cbd66be">json_array_get_str</a>(&amp;jobj, 2, sval, <span class="keyword">sizeof</span>(sval));</div>
<div class="line"> <span class="comment">// Release the array object so that the scope of searches returns back</span></div>
<div class="line"> <span class="comment">// to the parent object.</span></div>
<div class="line"> <a class="code" href="jsonv2_8h.html#a5d92eca3166f3f766a6f30f48e445b8d">json_release_array_object</a>(&amp;jobj);</div>
<div class="line"><span class="comment">// Get the JSON composite object &quot;features&quot;. After this function returns</span></div>
<div class="line"><span class="comment">// successfully, the scope of the subsequent searches is constrained to</span></div>
<div class="line"><span class="comment">// within this object, unless the object is released.</span></div>
<div class="line"><a class="code" href="jsonv2_8h.html#a666a5794accef75ad89ad58c283d30ec">json_get_composite_object</a>(&amp;jobj, <span class="stringliteral">&quot;features&quot;</span>);</div>
<div class="line"><span class="comment">// Get the value of &quot;objects&quot; which is a boolean</span></div>
<div class="line"><a class="code" href="jsonv2_8h.html#a67c026ccb4fbc706ee6f8eb5f20593a5">json_get_val_bool</a>(&amp;jobj, <span class="stringliteral">&quot;objects&quot;</span>, &amp;bval);</div>
<div class="line"><span class="comment">// Release the composite object so that the scope of searches returns back</span></div>
<div class="line"><span class="comment">// to the parent object.</span></div>
<div class="line"><a class="code" href="jsonv2_8h.html#a2b9e2fbbda78dab31b3dc09b284018f8">json_release_composite_object</a>(&amp;jobj);</div>
</div><!-- fragment --> </div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910cce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="jsonv2_8h.html#a687f0ceb8d33e34359e7d9a9d4910cce">wm_json_errno</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Json Error Codes </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910ccea1e48cbb8918de2fdbde68cbe6f954b04"></a>WM_E_JSON_FAIL&#160;</td><td class="fielddoc">
<p>Generic JSON parse failure </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910ccea81652f49a858dbafe00e810f5e092fd2"></a>WM_E_JSON_NOMEM&#160;</td><td class="fielddoc">
<p>Insufficient memory to hold the results </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910ccea30c4f46e33913d031c893e74856ee7cc"></a>WM_E_JSON_INVAL&#160;</td><td class="fielddoc">
<p>Invalid characters in JSON </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910ccea3f59ec50d9b0e114dc4b04b34b0b8751"></a>WM_E_JSON_INCOMPLETE&#160;</td><td class="fielddoc">
<p>Incomplete JSON string </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910cceacf9ab2fef122f40fa9a594ff574c36d1"></a>WM_E_JSON_INVALID_JOBJ&#160;</td><td class="fielddoc">
<p>Invalid JSON object </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910cceaf59bcd51b00cec97e63e84ebc7371fee"></a>WM_E_JSON_NOT_FOUND&#160;</td><td class="fielddoc">
<p>JSON element not found </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910cceaf515ff383d39210a37d8135037b78e5d"></a>WM_E_JSON_INVALID_TYPE&#160;</td><td class="fielddoc">
<p>JSON element of invalid type </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910cceaf79db5d86b8aaec6b1aecfde8c7390e9"></a>WM_E_JSON_INVALID_INDEX&#160;</td><td class="fielddoc">
<p>Invalid array index given </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910ccea984dd24e80243a6f08253afba5bc1bcc"></a>WM_E_JSON_INVALID_JARRAY&#160;</td><td class="fielddoc">
<p>Invalid search array provided </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910ccea41381fcd24d169a2a65ca64ccbc43fe8"></a>WM_E_JSON_INVSTART&#160;</td><td class="fielddoc">
<p>Invalid json start </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a687f0ceb8d33e34359e7d9a9d4910ccea7bcc04a48f644815742cd497b101da7e"></a>WM_E_JSON_OBUF&#160;</td><td class="fielddoc">
<p>JSON buffer overflow </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="acd5650e2e210ebed2590deec8958e30f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_get_array_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>num_elements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON array object from array</p>
<p>Gets a JSON array object from another array based on the given index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. On success, the jobj will be modified such that the scope of subsequent searches will be limited to this composite object. Use <a class="el" href="jsonv2_8h.html#ad869fda67add2e537f8ae9cfc06685a5">json_array_release_composite_object()</a> to expand the scope back to the parent array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index in the array (beginning from 0). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">num_elements</td><td>Pointer to an integer assigned by the application. On sucess, this will hold the number of elements in the array found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_INVALID_INDEX if the index provided was invalid. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element was found at the given index, but it was not an array. </dd>
<dd>
-WM_E_JSON_INVALID_JARRAY if the search object was not a valid JSON array. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="aee43f0bc6092c36ea720db296b0baba0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_get_bool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON bool value from array</p>
<p>Gets the value of a JSON boolean element from an array based on the given index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index in the array (beginning from 0). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to a boolean variable assigned by the application. This will hold the value on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_INVALID_INDEX if the index provided was invalid. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element was found at the given index, but it was not a boolean. </dd>
<dd>
-WM_E_JSON_INVALID_JARRAY if the search object was not a valid JSON array. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a354084a661a034bd8a405194f550a13a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_get_composite_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON composite object from array</p>
<p>Gets a composite JSON object from an array based on the given index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. On success, the jobj will be modified such that the scope of subsequent searches will be limited to this composite object. Use <a class="el" href="jsonv2_8h.html#ad869fda67add2e537f8ae9cfc06685a5">json_array_release_composite_object()</a> to expand the scope back to the parent array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index in the array (beginning from 0).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_INVALID_INDEX if the index provided was invalid. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element was found at the given index, but it was not an object. </dd>
<dd>
-WM_E_JSON_INVALID_JARRAY if the search object was not a valid JSON array. </dd>
<dd>
-WM_E_JSON_INVALID_JOBJ if the object found was not a valid JSON object. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a23dc1f2403747f163262b06c110a1d40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_get_float </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON float value from array</p>
<p>Gets the value of a JSON float element from an array based on the given index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index in the array (beginning from 0). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to a float variable assigned by the application. This will hold the value on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_INVALID_INDEX if the index provided was invalid. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element was found at the given index, but it was not a float. </dd>
<dd>
-WM_E_JSON_INVALID_JARRAY if the search object was not a valid JSON array. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a3a06bc5034055e7112ed5f915967ab22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_get_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON integer value from array</p>
<p>Gets the value of a JSON integer element from an array based on the given index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index in the array (beginning from 0). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to an integer variable assigned by the application. This will hold the value on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_INVALID_INDEX if the index provided was invalid. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element was found at the given index, but it was not an integer. </dd>
<dd>
-WM_E_JSON_INVALID_JARRAY if the search object was not a valid JSON array. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="af1a02624e1047b2002d6ecce3e6f9e48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_get_int64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get 64bit JSON integer value from array</p>
<p>Gets the value of a JSON integer element from an array based on the given index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index in the array (beginning from 0). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to a 64bit integer variable assigned by the application. This will hold the value on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_INVALID_INDEX if the index provided was invalid. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element was found at the given index, but it was not an integer. </dd>
<dd>
-WM_E_JSON_INVALID_JARRAY if the search object was not a valid JSON array. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="ae4dbb7bdea07226e7736992b6a125c47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_get_num_elements </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get number of elements in an array</p>
<p>This API is valid only if the current scope is an array</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>The current JSON object pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of elements in the JSON Array </dd>
<dd>
-WM_FAIL if the current scope is not an array </dd></dl>

</div>
</div>
<a class="anchor" id="a37c8f842224873f614c6a1975cbd66be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_get_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON string value from array</p>
<p>Gets the value of a JSON string element from an array based on the given index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index in the array (beginning from 0). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to a buffer assigned by the application to hold the string. This will hold the null terminated string on success. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxlen</td><td>Length of the buffer passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_INVALID_INDEX if the index provided was invalid. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element was found at the given index, but it was not a string. </dd>
<dd>
-WM_E_JSON_INVALID_JARRAY if the search object was not a valid JSON array. </dd>
<dd>
-WM_E_JSON_NOMEM if the buffer provided was insufficient. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="abf6e4a9e3add2994e87778528249b6e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_get_str_len </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON string length from array</p>
<p>Gets the length of a JSON string element from an array based on the given index. This is useful when the application does not know what size of buffer to use for <a class="el" href="jsonv2_8h.html#a37c8f842224873f614c6a1975cbd66be">json_array_get_str()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index in the array (beginning from 0). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>Pointer to an integer assigned by the application to hold the length of string. Applications will have to use a buffer of size atleast 1 byte more than this length</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_INVALID_INDEX if the index provided was invalid. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element was found at the given index, but it was not a string. </dd>
<dd>
-WM_E_JSON_INVALID_JARRAY if the search object was not a valid JSON array. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a0a9595f4135f1416a51be69c27823fbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_release_array_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release a JSON array object from an array</p>
<p>This function expands the scope of searches back to the parent array, if it was previously constrained using <a class="el" href="jsonv2_8h.html#acd5650e2e210ebed2590deec8958e30f">json_array_get_array_object()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. On success, this will be modified such that the scope of future searches will be expanded back to the parent array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success. </dd>
<dd>
-WM_E_JSON_FAIL if any error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="ad869fda67add2e537f8ae9cfc06685a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_array_release_composite_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release a JSON composite object from an array</p>
<p>This function expands the scope of searches back to the parent array, if it was previously constrained using <a class="el" href="jsonv2_8h.html#a354084a661a034bd8a405194f550a13a">json_array_get_composite_object()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. On success, this will be modified such that the scope of future searches will be expanded back to the parent array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success. </dd>
<dd>
-WM_E_JSON_FAIL if any error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a5aba0be61d8b87992273f4ae73ba85ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_get_array_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>num_elements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON array object</p>
<p>Gets a JSON array object from another object based on the given key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. On success, the jobj will be modified such that the scope of subsequent searches will be limited to this array. Use <a class="el" href="jsonv2_8h.html#a5d92eca3166f3f766a6f30f48e445b8d">json_release_array_object()</a> to expand the scope back to the parent object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Name of the JSON element. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">num_elements</td><td>Pointer to an integer assigned by the application. On sucess, this will hold the number of elements in the array found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_NOT_FOUND if an element with the given key was not found. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element with the given key was found but it was not an array. </dd>
<dd>
-WM_E_JSON_INVALID_JOBJ if the search object was not a valid JSON object. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a666a5794accef75ad89ad58c283d30ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_get_composite_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON composite object</p>
<p>Gets a composite JSON object from another object based on the given key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. On success, the jobj will be modified such that the scope of subsequent searches will be limited to this composite object. Use <a class="el" href="jsonv2_8h.html#a2b9e2fbbda78dab31b3dc09b284018f8">json_release_composite_object()</a> to expand the scope back to the parent object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Name of the JSON element.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_NOT_FOUND if an element with the given key was not found. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element with the given key was found but it was not an object. </dd>
<dd>
-WM_E_JSON_INVALID_JOBJ if the search object was not a valid JSON object or the object found was itself not a valid JSON object. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a67c026ccb4fbc706ee6f8eb5f20593a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_get_val_bool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON bool value</p>
<p>Gets the value of a JSON boolean element from an object based on the given key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Name of the JSON element. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to a boolean variable assigned by the application. This will hold the value on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_NOT_FOUND if an element with the given key was not found. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element with the given key was found but it was not a boolean. </dd>
<dd>
-WM_E_JSON_INVALID_JOBJ if the search object was not a valid JSON object. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a6c0a7291a51a1d93db9cbb45f7a52b9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_get_val_float </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON float value</p>
<p>Gets the value of a JSON float element from an object based on the given key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Name of the JSON element. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to a float variable assigned by the application. This will hold the value on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_NOT_FOUND if an element with the given key was not found. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element with the given key was found but it was not a float. </dd>
<dd>
-WM_E_JSON_INVALID_JOBJ if the search object was not a valid JSON object. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="adbbb331ad81e75fee40b12beea8cb8da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_get_val_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON integer value</p>
<p>Gets the value of a JSON integer element from an object based on the given key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Name of the JSON element. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to an integer variable assigned by the application. This will hold the value on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_NOT_FOUND if an element with the given key was not found. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element with the given key was found but it was not an integer. </dd>
<dd>
-WM_E_JSON_INVALID_JOBJ if the search object was not a valid JSON object. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="aa5a4c8858a762cd26be409f1e559a6ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_get_val_int64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get 64bit JSON integer value</p>
<p>Gets the value of a JSON integer element from an object based on the given key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Name of the JSON element. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to a 64bit integer variable assigned by the application. This will hold the value on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_NOT_FOUND if an element with the given key was not found. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element with the given key was found but it was not an integer. </dd>
<dd>
-WM_E_JSON_INVALID_JOBJ if the search object was not a valid JSON object. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a10b24b5a9e6cb1b04bc35fbbc7e3c6ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_get_val_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON string value</p>
<p>Gets the value of a JSON string element from an object based on the given key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Name of the JSON element. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to a buffer assigned by the application to hold the string. This will hold the null terminated string on success. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_len</td><td>Length of the buffer passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_NOT_FOUND if an element with the given key was not found. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element with the given key was found but it was not a string. </dd>
<dd>
-WM_E_JSON_INVALID_JOBJ if the search object was not a valid JSON object. </dd>
<dd>
-WM_E_JSON_NOMEM if the buffer provided was insufficient. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="ab3a270b59d3dff9a3cf51fa424362a9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_get_val_str_len </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get JSON string length</p>
<p>Gets the length of a JSON string element from an object based on the given key. This is useful when the application does not know what size of buffer to use for <a class="el" href="jsonv2_8h.html#a10b24b5a9e6cb1b04bc35fbbc7e3c6ea">json_get_val_str()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Name of the JSON element. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>Pointer to an integer assigned by the application to hold the length of string. Applications will have to use a buffer of size atleast 1 byte more than this length</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success </dd>
<dd>
-WM_E_JSON_NOT_FOUND if an element with the given key was not found. </dd>
<dd>
-WM_E_JSON_INVALID_TYPE if an element with the given key was found but it was not a string. </dd>
<dd>
-WM_E_JSON_INVALID_JOBJ if the search object was not a valid JSON object. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a0a7210c1e92fed218ad852f3f20224da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjsontok__t.html">jsontok_t</a> *&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>js</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>js_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the JSON Parser and parse the given JSON string.</p>
<p>This function initializes the JSON object that will be used for all the subsequent JSON parser APIs. It also parses the given JSON string and sets up the internal jobj for the subsequent APIs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">jobj</td><td>Pointer to a JSON object <a class="el" href="structjobj__t.html">jobj_t</a> assigned by the application. This is set up for further use internally by this API. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tokens</td><td>Pointer to an array of JSON tokens <a class="el" href="structjsontok__t.html">jsontok_t</a> assigned by the application. To get an idea about how large the array should be, please refer <a class="el" href="jsonv2_8h.html#jsonv2_usage">Usage</a> section. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tokens</td><td>Number of tokens in the tokens array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">js</td><td>Pointer to the JSON string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">js_len</td><td>Length of the JSON string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on successful parsing. <a class="el" href="jsonv2_8h.html#a2655ca7c60529ae28cf70ee433cfafc6">json_is_object()</a> and/or <a class="el" href="jsonv2_8h.html#aaf6d923a89f68d02c6df16bd22cc28a1">json_is_array()</a> can then be used to find out if the parsed string is a JSON object or array so that the appropriate parsing APIs can be used. </dd>
<dd>
-WM_E_JSON_NOMEM if insufficient number of tokens are provided in <a class="el" href="jsonv2_8h.html#a0a7210c1e92fed218ad852f3f20224da">json_init()</a>. </dd>
<dd>
-WM_E_JSON_INVAL if there are invalid characters in the given JSON string. </dd>
<dd>
-WM_E_JSON_INCOMPLETE if the given JSON string is incomplete. </dd>
<dd>
-WM_E_JSON_INVALID_JOBJ if the given json string is not a valid JSON object. </dd>
<dd>
-WM_E_JSON_FAIL if any other error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="aaf6d923a89f68d02c6df16bd22cc28a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool json_is_array </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find out if the current object is a JSON Array</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>The current JSON object pointer of type <a class="el" href="structjobj__t.html">jobj_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it is an array </dd>
<dd>
false if it is not an array </dd></dl>

</div>
</div>
<a class="anchor" id="a2655ca7c60529ae28cf70ee433cfafc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool json_is_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find out if the current object is a JSON Object</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jobj</td><td>The current JSON object pointer of type <a class="el" href="structjobj__t.html">jobj_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it is an object </dd>
<dd>
false if it is not an object </dd></dl>

</div>
</div>
<a class="anchor" id="a5d92eca3166f3f766a6f30f48e445b8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_release_array_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release a JSON array object</p>
<p>This function expands the scope of searches back to the parent object, if it was previously constrained using <a class="el" href="jsonv2_8h.html#a5aba0be61d8b87992273f4ae73ba85ca">json_get_array_object()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. On success, this will be modified such that the scope of future searches will be expanded back to the parent object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success. </dd>
<dd>
-WM_E_JSON_FAIL if any error was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a2b9e2fbbda78dab31b3dc09b284018f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_release_composite_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjobj__t.html">jobj_t</a> *&#160;</td>
          <td class="paramname"><em>jobj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release a JSON composite object</p>
<p>This function expands the scope of searches back to the parent object, if it was previously constrained using <a class="el" href="jsonv2_8h.html#a666a5794accef75ad89ad58c283d30ec">json_get_composite_object()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">jobj</td><td>Current JSON search object <a class="el" href="structjobj__t.html">jobj_t</a>. On success, this will be modified such that the scope of future searches will be expanded back to the parent object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WM_SUCCESS on success. </dd>
<dd>
-WM_E_JSON_FAIL if any error was encountered. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
